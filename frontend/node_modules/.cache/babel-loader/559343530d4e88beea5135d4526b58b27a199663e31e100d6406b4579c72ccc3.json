{"ast":null,"code":"var _jsxFileName = \"/Users/osman/Documents/projects/c458p1/frontend/src/SurveyPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getSurveys, addDoc, collection, db, deleteSurvey } from './firebaseConfig';\nimport SurveyBuilder from './SurveyBuilder';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  container: {\n    maxWidth: '1000px',\n    margin: '2rem auto',\n    padding: '0 1rem',\n    fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\"\n  },\n  header: {\n    color: '#2c3e50',\n    textAlign: 'center',\n    marginBottom: '2rem'\n  },\n  userInfo: {\n    backgroundColor: '#f8f9fa',\n    padding: '1rem',\n    borderRadius: '8px',\n    marginBottom: '2rem',\n    textAlign: 'center'\n  },\n  surveyGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',\n    gap: '1rem',\n    margin: '2rem 0'\n  },\n  selectedSurvey: {\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    padding: '2rem',\n    margin: '2rem 0',\n    boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n  },\n  questionCard: {\n    backgroundColor: '#fff',\n    borderRadius: '8px',\n    padding: '1.5rem',\n    margin: '1rem 0',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n  },\n  input: {\n    width: '100%',\n    padding: '0.8rem',\n    margin: '0.5rem 0',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    fontSize: '1rem'\n  },\n  button: {\n    padding: '0.6rem 1.2rem',\n    margin: '0.5rem',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    transition: 'all 0.3s ease'\n  },\n  primaryButton: {\n    backgroundColor: '#3498db',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: '#2980b9'\n    }\n  },\n  errorMessage: {\n    color: '#e74c3c',\n    backgroundColor: '#f8d7da',\n    padding: '1rem',\n    borderRadius: '4px',\n    margin: '1rem 0'\n  },\n  loadingText: {\n    textAlign: 'center',\n    color: '#95a5a6',\n    fontSize: '1.2rem'\n  },\n  required: {\n    color: '#e74c3c',\n    marginLeft: '0.3rem'\n  },\n  slider: {\n    width: '100%',\n    margin: '1rem 0'\n  },\n  radioOption: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '0.5rem',\n    margin: '0.5rem 0'\n  },\n  container: {\n    maxWidth: '1000px',\n    margin: '2rem auto',\n    padding: '0 1rem',\n    fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n    position: 'relative' // Added for dashboard button positioning\n  },\n  dashboardButton: {\n    position: 'absolute',\n    top: '1rem',\n    left: '1rem',\n    padding: '0.6rem 1.2rem',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    transition: 'all 0.3s ease',\n    backgroundColor: '#2c3e50',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: '#34495e'\n    }\n  },\n  deleteButton: {\n    position: 'absolute',\n    top: '0.5rem',\n    right: '0.5rem',\n    backgroundColor: 'transparent',\n    border: 'none',\n    color: '#e74c3c',\n    cursor: 'pointer',\n    fontSize: '1.2rem',\n    padding: '0.2rem',\n    '&:hover': {\n      color: '#c0392b'\n    }\n  },\n  surveyCard: {\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    padding: '1.5rem',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n    cursor: 'pointer',\n    transition: 'transform 0.2s ease',\n    position: 'relative',\n    // Added for delete button positioning\n    '&:hover': {\n      transform: 'translateY(-2px)'\n    }\n  }\n};\nconst SurveyPage = ({\n  user\n}) => {\n  _s();\n  const [surveys, setSurveys] = useState([]);\n  const [selectedSurvey, setSelectedSurvey] = useState(null);\n  const [responses, setResponses] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [submissionError, setSubmissionError] = useState(null);\n\n  // Fetch existing surveys\n  useEffect(() => {\n    const fetchSurveys = async () => {\n      try {\n        setLoading(true);\n\n        // Ensure user is authenticated\n        if (!user) {\n          throw new Error(\"User not authenticated\");\n        }\n        const result = await getSurveys();\n        if (result.success) {\n          setSurveys(result.surveys);\n          setError(null);\n        } else {\n          setError(result.error);\n        }\n      } catch (err) {\n        setError(err.message || 'Failed to fetch surveys');\n        console.error('Survey fetch error:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSurveys();\n  }, [user]);\n\n  // Handle response input\n  const handleResponseChange = (questionIndex, value) => {\n    setResponses({\n      ...responses,\n      [questionIndex]: value\n    });\n  };\n  const handleDeleteSurvey = async (surveyId, e) => {\n    e.stopPropagation();\n    try {\n      if (window.confirm('Are you sure you want to delete this survey?')) {\n        const result = await deleteSurvey(surveyId);\n        if (result.success) {\n          setSurveys(surveys.filter(s => s.id !== surveyId));\n          if ((selectedSurvey === null || selectedSurvey === void 0 ? void 0 : selectedSurvey.id) === surveyId) {\n            setSelectedSurvey(null);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error deleting survey:', error);\n      setError('Failed to delete survey');\n    }\n  };\n\n  // Handle survey selection\n  const handleSelectSurvey = survey => {\n    setSelectedSurvey(survey);\n    setResponses({}); // Clear previous responses when a new survey is selected\n    setSubmissionError(null);\n  };\n\n  // Render survey questions\n  const renderSurveyQuestions = () => {\n    if (!selectedSurvey) return null;\n    return selectedSurvey.questions.map((question, index) => {\n      switch (question.type) {\n        case 'multiple-choice':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"survey-question\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [question.text, \" \", question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"required\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), question.options.map((option, optIndex) => /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: `question-${index}`,\n                value: option,\n                checked: responses[index] === option,\n                onChange: () => handleResponseChange(index, option),\n                required: question.required\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), option]\n            }, optIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this))]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this);\n        case 'rating-scale':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"survey-question\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [question.text, \" \", question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"required\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: question.min || 1,\n              max: question.max || 5,\n              value: responses[index] || question.min || 1,\n              onChange: e => handleResponseChange(index, e.target.value),\n              required: question.required\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Rating: \", responses[index] || question.min || 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this);\n        case 'conditional':\n          const dependsOnQuestion = selectedSurvey.questions.find(q => q.text === question.dependsOn);\n          const dependsOnIndex = dependsOnQuestion ? selectedSurvey.questions.indexOf(dependsOnQuestion) : -1;\n          const shouldShowQuestion = dependsOnIndex !== -1 && responses[dependsOnIndex] === question.condition;\n          if (!shouldShowQuestion) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"survey-question\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [question.text, \" \", question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"required\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: responses[index] || '',\n              onChange: e => handleResponseChange(index, e.target.value),\n              required: question.required\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this);\n        default:\n          return null;\n      }\n    });\n  };\n\n  // Submit survey responses\n  const submitSurveyResponse = async () => {\n    if (!selectedSurvey) {\n      setSubmissionError(\"Please select a survey to submit.\");\n      return;\n    }\n\n    // Validate required questions\n    const requiredQuestions = selectedSurvey.questions.filter(q => q.required);\n    const allRequiredAnswered = requiredQuestions.every((question, index) => {\n      const responseKey = selectedSurvey.questions.findIndex(q => q === question);\n      return responses.hasOwnProperty(responseKey) && responses[responseKey] !== undefined && responses[responseKey] !== '';\n    });\n    if (!allRequiredAnswered) {\n      setSubmissionError(\"Please answer all required questions.\");\n      return;\n    }\n    setSubmissionError(null);\n    try {\n      if (!user) {\n        throw new Error(\"User not authenticated\");\n      }\n\n      // Add response submission logic to Firestore\n      await addDoc(collection(db, 'survey-responses'), {\n        surveyId: selectedSurvey.id,\n        userId: user.uid,\n        responses,\n        submittedAt: new Date()\n      });\n      alert('Survey submitted successfully!');\n      // Reset form\n      setResponses({});\n      setSelectedSurvey(null);\n    } catch (error) {\n      console.error('Error submitting survey:', error);\n      setSubmissionError(`Failed to submit survey: ${error.message}`);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.loadingText,\n      children: \"Loading surveys...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.errorMessage,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please ensure you are logged in and have the necessary permissions.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      style: styles.dashboardButton,\n      onClick: () => navigate('/dashboard'),\n      children: \"\\u2190 Return to Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: styles.header,\n      children: \"Survey Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.userInfo,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Welcome, \", user.displayName || user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '1rem'\n        },\n        children: \"Available Surveys\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.surveyGrid,\n        children: surveys.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: \"No surveys available. Create a new survey below!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this) : surveys.map(survey => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...styles.surveyCard,\n            border: (selectedSurvey === null || selectedSurvey === void 0 ? void 0 : selectedSurvey.id) === survey.id ? '2px solid #3498db' : 'none'\n          },\n          onClick: () => handleSelectSurvey(survey),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: survey.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#95a5a6'\n            },\n            children: [survey.questions.length, \" questions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 17\n          }, this)]\n        }, survey.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '3rem 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '1rem'\n        },\n        children: \"Create New Survey\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SurveyBuilder, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this), selectedSurvey && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.selectedSurvey,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginBottom: '1.5rem'\n        },\n        children: [\"Take Survey: \", selectedSurvey.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this), selectedSurvey.questions.map((question, index) => {\n        // ... keep the existing render logic, but update JSX with styles ...\n\n        switch (question.type) {\n          case 'multiple-choice':\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.questionCard,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [question.text, question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: styles.required,\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 21\n              }, this), question.options.map((option, optIndex) => /*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.radioOption,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: `question-${index}`,\n                  value: option,\n                  checked: responses[index] === option,\n                  onChange: () => handleResponseChange(index, option),\n                  required: question.required\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 25\n                }, this), option]\n              }, optIndex, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 23\n              }, this))]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 19\n            }, this);\n          case 'rating-scale':\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.questionCard,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [question.text, question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: styles.required,\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                style: styles.slider,\n                min: question.min || 1,\n                max: question.max || 5,\n                value: responses[index] || question.min || 1,\n                onChange: e => handleResponseChange(index, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#3498db',\n                  fontWeight: 'bold'\n                },\n                children: [\"Rating: \", responses[index] || question.min || 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 19\n            }, this);\n          case 'conditional':\n            // ... keep conditional logic the same ...\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...styles.questionCard,\n                backgroundColor: '#f8f9fa'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [question.text, question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: styles.required,\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: responses[index] || '',\n                onChange: e => handleResponseChange(index, e.target.value),\n                style: styles.input,\n                required: question.required\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 19\n            }, this);\n          default:\n            return null;\n        }\n      }), submissionError && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.errorMessage,\n        children: submissionError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitSurveyResponse,\n        style: {\n          ...styles.button,\n          ...styles.primaryButton,\n          padding: '1rem 2rem',\n          fontSize: '1.1rem',\n          width: '100%',\n          marginTop: '2rem'\n        },\n        children: \"Submit Survey\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 5\n  }, this);\n};\n_s(SurveyPage, \"YA/YIcM1Q5JrYNFLMy8/+5ym+9I=\");\n_c = SurveyPage;\nexport default SurveyPage;\nvar _c;\n$RefreshReg$(_c, \"SurveyPage\");","map":{"version":3,"names":["React","useState","useEffect","getSurveys","addDoc","collection","db","deleteSurvey","SurveyBuilder","jsxDEV","_jsxDEV","styles","container","maxWidth","margin","padding","fontFamily","header","color","textAlign","marginBottom","userInfo","backgroundColor","borderRadius","surveyGrid","display","gridTemplateColumns","gap","selectedSurvey","boxShadow","questionCard","input","width","border","fontSize","button","cursor","transition","primaryButton","errorMessage","loadingText","required","marginLeft","slider","radioOption","alignItems","position","dashboardButton","top","left","deleteButton","right","surveyCard","transform","SurveyPage","user","_s","surveys","setSurveys","setSelectedSurvey","responses","setResponses","loading","setLoading","error","setError","submissionError","setSubmissionError","fetchSurveys","Error","result","success","err","message","console","handleResponseChange","questionIndex","value","handleDeleteSurvey","surveyId","e","stopPropagation","window","confirm","filter","s","id","handleSelectSurvey","survey","renderSurveyQuestions","questions","map","question","index","type","className","children","text","fileName","_jsxFileName","lineNumber","columnNumber","options","option","optIndex","name","checked","onChange","min","max","target","dependsOnQuestion","find","q","dependsOn","dependsOnIndex","indexOf","shouldShowQuestion","condition","submitSurveyResponse","requiredQuestions","allRequiredAnswered","every","responseKey","findIndex","hasOwnProperty","undefined","userId","uid","submittedAt","Date","alert","style","onClick","navigate","displayName","email","length","title","fontWeight","marginTop","_c","$RefreshReg$"],"sources":["/Users/osman/Documents/projects/c458p1/frontend/src/SurveyPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  getSurveys,\n  addDoc,\n  collection,\n  db,\n  deleteSurvey\n} from './firebaseConfig';\nimport SurveyBuilder from './SurveyBuilder';\n\nconst styles = {\n  container: {\n    maxWidth: '1000px',\n    margin: '2rem auto',\n    padding: '0 1rem',\n    fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n  },\n  header: {\n    color: '#2c3e50',\n    textAlign: 'center',\n    marginBottom: '2rem',\n  },\n  userInfo: {\n    backgroundColor: '#f8f9fa',\n    padding: '1rem',\n    borderRadius: '8px',\n    marginBottom: '2rem',\n    textAlign: 'center',\n  },\n  surveyGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))',\n    gap: '1rem',\n    margin: '2rem 0',\n  },\n  selectedSurvey: {\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    padding: '2rem',\n    margin: '2rem 0',\n    boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n  },\n  questionCard: {\n    backgroundColor: '#fff',\n    borderRadius: '8px',\n    padding: '1.5rem',\n    margin: '1rem 0',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.05)',\n  },\n  input: {\n    width: '100%',\n    padding: '0.8rem',\n    margin: '0.5rem 0',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    fontSize: '1rem',\n  },\n  button: {\n    padding: '0.6rem 1.2rem',\n    margin: '0.5rem',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    transition: 'all 0.3s ease',\n  },\n  primaryButton: {\n    backgroundColor: '#3498db',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: '#2980b9',\n    },\n  },\n  errorMessage: {\n    color: '#e74c3c',\n    backgroundColor: '#f8d7da',\n    padding: '1rem',\n    borderRadius: '4px',\n    margin: '1rem 0',\n  },\n  loadingText: {\n    textAlign: 'center',\n    color: '#95a5a6',\n    fontSize: '1.2rem',\n  },\n  required: {\n    color: '#e74c3c',\n    marginLeft: '0.3rem',\n  },\n  slider: {\n    width: '100%',\n    margin: '1rem 0',\n  },\n  radioOption: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '0.5rem',\n    margin: '0.5rem 0',\n  },\n  container: {\n    maxWidth: '1000px',\n    margin: '2rem auto',\n    padding: '0 1rem',\n    fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n    position: 'relative',  // Added for dashboard button positioning\n  },\n  dashboardButton: {\n    position: 'absolute',\n    top: '1rem',\n    left: '1rem',\n    padding: '0.6rem 1.2rem',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    transition: 'all 0.3s ease',\n    backgroundColor: '#2c3e50',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: '#34495e',\n    },\n  },\n  deleteButton: {\n    position: 'absolute',\n    top: '0.5rem',\n    right: '0.5rem',\n    backgroundColor: 'transparent',\n    border: 'none',\n    color: '#e74c3c',\n    cursor: 'pointer',\n    fontSize: '1.2rem',\n    padding: '0.2rem',\n    '&:hover': {\n      color: '#c0392b',\n    },\n  },\n  surveyCard: {\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    padding: '1.5rem',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n    cursor: 'pointer',\n    transition: 'transform 0.2s ease',\n    position: 'relative',  // Added for delete button positioning\n    '&:hover': {\n      transform: 'translateY(-2px)',\n    },\n  },\n};\n\nconst SurveyPage = ({ user }) => {\n  const [surveys, setSurveys] = useState([]);\n  const [selectedSurvey, setSelectedSurvey] = useState(null);\n  const [responses, setResponses] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [submissionError, setSubmissionError] = useState(null);\n\n  // Fetch existing surveys\n  useEffect(() => {\n    const fetchSurveys = async () => {\n      try {\n        setLoading(true);\n\n        // Ensure user is authenticated\n        if (!user) {\n          throw new Error(\"User not authenticated\");\n        }\n\n        const result = await getSurveys();\n\n        if (result.success) {\n          setSurveys(result.surveys);\n          setError(null);\n        } else {\n          setError(result.error);\n        }\n      } catch (err) {\n        setError(err.message || 'Failed to fetch surveys');\n        console.error('Survey fetch error:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchSurveys();\n  }, [user]);\n\n  // Handle response input\n  const handleResponseChange = (questionIndex, value) => {\n    setResponses({\n      ...responses,\n      [questionIndex]: value\n    });\n  };\n\n  const handleDeleteSurvey = async (surveyId, e) => {\n    e.stopPropagation();\n    try {\n      if (window.confirm('Are you sure you want to delete this survey?')) {\n        const result = await deleteSurvey(surveyId);\n        if (result.success) {\n          setSurveys(surveys.filter(s => s.id !== surveyId));\n          if (selectedSurvey?.id === surveyId) {\n            setSelectedSurvey(null);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error deleting survey:', error);\n      setError('Failed to delete survey');\n    }\n  };\n\n  // Handle survey selection\n  const handleSelectSurvey = (survey) => {\n    setSelectedSurvey(survey);\n    setResponses({}); // Clear previous responses when a new survey is selected\n    setSubmissionError(null);\n  };\n\n  // Render survey questions\n  const renderSurveyQuestions = () => {\n    if (!selectedSurvey) return null;\n\n    return selectedSurvey.questions.map((question, index) => {\n      switch (question.type) {\n        case 'multiple-choice':\n          return (\n            <div key={index} className=\"survey-question\">\n              <p>{question.text} {question.required && <span className=\"required\">*</span>}</p>\n              {question.options.map((option, optIndex) => (\n                <label key={optIndex}>\n                  <input\n                    type=\"radio\"\n                    name={`question-${index}`}\n                    value={option}\n                    checked={responses[index] === option}\n                    onChange={() => handleResponseChange(index, option)}\n                    required={question.required}\n                  />\n                  {option}\n                </label>\n              ))}\n            </div>\n          );\n\n        case 'rating-scale':\n          return (\n            <div key={index} className=\"survey-question\">\n              <p>{question.text} {question.required && <span className=\"required\">*</span>}</p>\n              <input\n                type=\"range\"\n                min={question.min || 1}\n                max={question.max || 5}\n                value={responses[index] || question.min || 1}\n                onChange={(e) => handleResponseChange(index, e.target.value)}\n                required={question.required}\n              />\n              <span>Rating: {responses[index] || question.min || 1}</span>\n            </div>\n          );\n\n        case 'conditional':\n          const dependsOnQuestion = selectedSurvey.questions.find(q => q.text === question.dependsOn);\n          const dependsOnIndex = dependsOnQuestion ? selectedSurvey.questions.indexOf(dependsOnQuestion) : -1;\n          const shouldShowQuestion = dependsOnIndex !== -1 && responses[dependsOnIndex] === question.condition;\n\n          if (!shouldShowQuestion) return null;\n\n          return (\n            <div key={index} className=\"survey-question\">\n              <p>{question.text} {question.required && <span className=\"required\">*</span>}</p>\n              <input\n                type=\"text\"\n                value={responses[index] || ''}\n                onChange={(e) => handleResponseChange(index, e.target.value)}\n                required={question.required}\n              />\n            </div>\n          );\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  // Submit survey responses\n  const submitSurveyResponse = async () => {\n    if (!selectedSurvey) {\n      setSubmissionError(\"Please select a survey to submit.\");\n      return;\n    }\n\n    // Validate required questions\n    const requiredQuestions = selectedSurvey.questions.filter(q => q.required);\n    const allRequiredAnswered = requiredQuestions.every((question, index) => {\n      const responseKey = selectedSurvey.questions.findIndex(q => q === question);\n      return responses.hasOwnProperty(responseKey) && responses[responseKey] !== undefined && responses[responseKey] !== '';\n    });\n\n    if (!allRequiredAnswered) {\n      setSubmissionError(\"Please answer all required questions.\");\n      return;\n    }\n\n    setSubmissionError(null);\n\n    try {\n      if (!user) {\n        throw new Error(\"User not authenticated\");\n      }\n\n      // Add response submission logic to Firestore\n      await addDoc(collection(db, 'survey-responses'), {\n        surveyId: selectedSurvey.id,\n        userId: user.uid,\n        responses,\n        submittedAt: new Date()\n      });\n\n      alert('Survey submitted successfully!');\n      // Reset form\n      setResponses({});\n      setSelectedSurvey(null);\n    } catch (error) {\n      console.error('Error submitting survey:', error);\n      setSubmissionError(`Failed to submit survey: ${error.message}`);\n    }\n  };\n\n  if (loading) {\n    return <div style={styles.loadingText}>Loading surveys...</div>;\n  }\n\n  if (error) {\n    return (\n      <div style={styles.container}>\n        <div style={styles.errorMessage}>\n          <h2>Error</h2>\n          <p>{error}</p>\n          <p>Please ensure you are logged in and have the necessary permissions.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={styles.container}>\n       <button\n        style={styles.dashboardButton}\n        onClick={() => navigate('/dashboard')}\n      >\n        ← Return to Dashboard\n      </button>\n      <h1 style={styles.header}>Survey Management</h1>\n\n      {/* User Information */}\n      <div style={styles.userInfo}>\n        <h2>Welcome, {user.displayName || user.email}</h2>\n      </div>\n\n      {/* Survey Selection */}\n      <div>\n        <h2 style={{ marginBottom: '1rem' }}>Available Surveys</h2>\n        <div style={styles.surveyGrid}>\n          {surveys.length === 0 ? (\n            <p style={{ textAlign: 'center' }}>No surveys available. Create a new survey below!</p>\n          ) : (\n            surveys.map((survey) => (\n              <div\n                key={survey.id}\n                style={{\n                  ...styles.surveyCard,\n                  border: selectedSurvey?.id === survey.id ? '2px solid #3498db' : 'none'\n                }}\n                onClick={() => handleSelectSurvey(survey)}\n              >\n                <h3>{survey.title}</h3>\n                <p style={{ color: '#95a5a6' }}>\n                  {survey.questions.length} questions\n                </p>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Survey Builder Component */}\n      <div style={{ margin: '3rem 0' }}>\n        <h2 style={{ marginBottom: '1rem' }}>Create New Survey</h2>\n        <SurveyBuilder />\n      </div>\n\n      {/* Selected Survey Rendering */}\n      {selectedSurvey && (\n        <div style={styles.selectedSurvey}>\n          <h2 style={{ marginBottom: '1.5rem' }}>Take Survey: {selectedSurvey.title}</h2>\n          \n          {selectedSurvey.questions.map((question, index) => {\n            // ... keep the existing render logic, but update JSX with styles ...\n\n            switch (question.type) {\n              case 'multiple-choice':\n                return (\n                  <div key={index} style={styles.questionCard}>\n                    <p>\n                      {question.text}\n                      {question.required && <span style={styles.required}>*</span>}\n                    </p>\n                    {question.options.map((option, optIndex) => (\n                      <label key={optIndex} style={styles.radioOption}>\n                        <input\n                          type=\"radio\"\n                          name={`question-${index}`}\n                          value={option}\n                          checked={responses[index] === option}\n                          onChange={() => handleResponseChange(index, option)}\n                          required={question.required}\n                        />\n                        {option}\n                      </label>\n                    ))}\n                  </div>\n                );\n\n              case 'rating-scale':\n                return (\n                  <div key={index} style={styles.questionCard}>\n                    <p>\n                      {question.text}\n                      {question.required && <span style={styles.required}>*</span>}\n                    </p>\n                    <input\n                      type=\"range\"\n                      style={styles.slider}\n                      min={question.min || 1}\n                      max={question.max || 5}\n                      value={responses[index] || question.min || 1}\n                      onChange={(e) => handleResponseChange(index, e.target.value)}\n                    />\n                    <div style={{ color: '#3498db', fontWeight: 'bold' }}>\n                      Rating: {responses[index] || question.min || 1}\n                    </div>\n                  </div>\n                );\n\n              case 'conditional':\n                // ... keep conditional logic the same ...\n                return (\n                  <div key={index} style={{ ...styles.questionCard, backgroundColor: '#f8f9fa' }}>\n                    <p>\n                      {question.text}\n                      {question.required && <span style={styles.required}>*</span>}\n                    </p>\n                    <input\n                      type=\"text\"\n                      value={responses[index] || ''}\n                      onChange={(e) => handleResponseChange(index, e.target.value)}\n                      style={styles.input}\n                      required={question.required}\n                    />\n                  </div>\n                );\n\n              default:\n                return null;\n            }\n          })}\n\n          {submissionError && (\n            <div style={styles.errorMessage}>\n              {submissionError}\n            </div>\n          )}\n\n          <button\n            onClick={submitSurveyResponse}\n            style={{\n              ...styles.button,\n              ...styles.primaryButton,\n              padding: '1rem 2rem',\n              fontSize: '1.1rem',\n              width: '100%',\n              marginTop: '2rem'\n            }}\n          >\n            Submit Survey\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SurveyPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}